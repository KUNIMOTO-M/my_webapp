<v-app id="microposts">
<div class="microposts">
    <div class="title_container"> 
      <h1 class="content">マイクロポスト</h1>
      <v-btn text v-on:click="toggleMicropostModal()">New Snippet</v-btn>
    </div> 

    <div v-if="microposts.length" class="notice_container">
          <div class="notice_container_item" v-for="micropost in microposts">
            <div class="notice_container_item2">
              <div class="notice_container_item_image">
                <div class="user_image">                                                        
                    <a class="image" v-if="micropost.image" ></a>
                    <img src="/assets/default.png" v-else class="image" alt="ユーザーアイコン" >
                </div>
              </div>
              <div class="microposts_contents">
                <div class="microposts_info">
                  <div class="microposts_info_user">
                    <div class="micropost_user">
                      {{micropost.name}}
                    </div>
                    <div class="micropost_time">
                        Posted {{micropost.created_at}} ago.
                    </div>
                  </div>
                  <div class="microposts_delete">
              
                  </div>
                </div>
                <div class="micropost_content">
                  {{ micropost.content}}
                </div>
              </div>
          </div>
          </div>
    </div>
    <v-dialog v-model="dialogPostFlag" width="800" persistent> <!-- 説明 3.18 -->
        <v-card>
          <v-card-title class="headline red lighten-3 white--text" primary-title>
            Create Form
          </v-card-title>
  <v-card-text>
    <p>マイクロポスト</p>
    <div style='width:100%;'>
      <textarea style='width:100%; height:300px; background-color:#efefef; padding:3px' v-model='micropostContent'></textarea> <!-- 説明 3.19 -->
    </div>
  </v-card-text>
  <v-divider></v-divider>

  <v-card-actions>
    <v-btn color="#grey lighten-4" text v-on:click="toggleMicropostModal">
      Cancel
    </v-btn>
    <v-spacer></v-spacer>
    <v-btn color="red" text v-on:click="postMicropost">
      Add Micropost
    </v-btn>
  </v-card-actions>
        </v-card>
      </v-dialog>
  </div>
    <div class="notice_creater_container">
      <div class="notice_creater">
        <%= form_with model: @micropost do |f| %>
        
          <%= f.label :マイクロポスト %>
          <p style="white-space:pre-wrap;">
            <%= f.text_area :content,placeholder: "Tell everyone more about you!", class: "form-group form" %>
          </p>
          <%= f.submit"投稿", class: "btn btn-primary" %>
    
        <% end %>
      </div>
    </div>
</div>
</v-app>
<%= javascript_pack_tag 'microposts' %>